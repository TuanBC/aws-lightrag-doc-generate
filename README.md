# Ethereum Wallet Credit Scoring API

## Overview

This project provides a FastAPI-based service for credit scoring of Ethereum wallets. It analyzes wallet transaction history, extracts features, and generates a credit score and detailed markdown report using LLMs via OpenRouter and prompt templating with Prompty.

## Features
- Credit scoring for Ethereum wallets based on on-chain activity
- Transaction history analysis via Etherscan API
- Feature extraction and scorecard logic
- Markdown report generation using LLMs (Claude, GPT, etc.)
- Prompt templating with Prompty
- Configurable via environment variables

## Installation

1. Clone the repository and navigate to the `final_code` folder:
   ```sh
   git clone <repo-url>
   cd <repo-root>/final_code
   ```
2. Install dependencies:
   ```sh
   pip install -r requirements.txt
   ```

## Configuration

Copy `.env.example` to `.env` and fill in your API keys:
- `ETHERSCAN_API_KEY`: Get from [Etherscan](https://etherscan.io/myapikey)
- `OPENROUTER_API_KEY`: Get from [OpenRouter](https://openrouter.ai/keys)
- `OPENROUTER_MODEL`: (Optional) Set your preferred LLM model

## Usage

Start the API server:
```sh
uvicorn main:app --reload
```

### Endpoints

- `GET /v1/wallet/{wallet_address}/enquiry`  
  Returns credit score and features for a wallet.
- `GET /v1/wallet/{wallet_address}/report`  
  Returns a markdown report generated by an LLM.
- `GET /health`  
  Health check endpoint.

### Example Request

```sh
curl http://localhost:8000/v1/wallet/0x0a73573cf2903d2d8305b1ecb9e9730186a312ae/report
```

### Example Response

```
# Wallet Credit Report

**Wallet Address:** 0x0a73573cf2903d2d8305b1ecb9e9730186a312ae
**Credit Score:** 653
**Total Transactions:** 42

...markdown report...
```

## Folder Structure

```
final_code/
├── .env
├── .env.example
├── example_usage.py
├── main.py
├── requirements.txt
├── prompts/
│   └── wallet_report.prompty
├── services/
│   ├── credit_scoring_service.py
│   └── etherscan_service.py
└── ...
```

## License

This project is licensed under the MIT License.

## Contributing

Pull requests and issues are welcome! Please open an issue for bugs or feature requests.

## Contact

For questions or support, please contact the repository owner or open an issue on GitHub.
